{% load static %}
{% if user.user_type == '1' %}
<div class="header" style="background-color: #1E3A8A; padding: 20px; display: flex; align-items: center; justify-content: space-between;">
   
   <!-- Left: System Title -->
   <div class="top-nav-search" style="color: white; flex-grow: 1; text-align: center;">
       <h4 style="margin: 0;">Doctor Appointment System</h4>
   </div>
   
   <!-- Right: User Profile Dropdown -->
   <ul class="nav user-menu" style="margin: 0; padding: 0;">
       <li class="nav-item dropdown has-arrow">
         <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
            <span class="user-img">
                {% if user.profile_pic %}
                    <img class="rounded-circle" src="{{ request.user.profile_pic.url }}" width="40" height="40" style="object-fit: cover; border-radius: 50%;">
                {% else %}
                    <img class="rounded-circle" src="{% static 'default-user.png' %}" width="40" height="40" style="object-fit: cover; border-radius: 50%;">
                {% endif %}
            </span>
        </a>
          <div class="dropdown-menu">
             <div class="user-header">
                <div class="avatar avatar-sm">
                  {% if user.profile_pic %}
                     <img src="{{ user.profile_pic.url }}" alt="User Image" class="avatar-img rounded-circle">
                  {% else %}
                     <img src="{% static 'images/default-profile.png' %}" alt="Default Profile Picture">
                  {% endif %}
                </div>
                <div class="user-text">
                   <h6 style="color: black;">{{ user.first_name }} {{ user.last_name }}</h6>
                   <p class="text-muted mb-0">Administrator</p>
                </div>
             </div>
             <a class="dropdown-item" href="{% url 'profile' %}">My Profile</a>
             <a class="dropdown-item" href="{% url 'change_password' %}">Setting</a>
             <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
          </div>
       </li>
   </ul>
</div>

{% else %}
<div class="header" style="background-color: #1E3A8A; padding: 20px; border-radius: 10px; display: flex; align-items: center; justify-content: space-between;">

   <!-- Left: System Title -->
   <div class="top-nav-search" style="color: white; flex-grow: 1; text-align: center;">
      <h4 style="margin: 0;">Doctor Appointment System</h4>
   </div>
   
   <!-- Mobile Menu Button (if needed) -->
   <a class="mobile_btn" id="mobile_btn">
       <i class="fas fa-bars" style="color: white;"></i>
   </a>

   <!-- Right: User Profile Dropdown -->
   <ul class="nav user-menu" style="margin: 0; padding: 0;">
      <li class="nav-item dropdown has-arrow">
         <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
         <span class="user-img">
             {% if user.profile_pic %}
                 <img class="rounded-circle" src="{{ request.user.profile_pic.url }}" width="40" height="40" style="object-fit: cover; border-radius: 50%;">
             {% else %}
                 <img class="rounded-circle" src="{% static 'default-user.png' %}" width="40" height="40" style="object-fit: cover; border-radius: 50%;">
             {% endif %}
         </span>
         </a>
         <div class="dropdown-menu">
            <div class="user-header">
               <div class="avatar avatar-sm">
                  <img src="{{ user.profile_pic.url }}" alt="User Image" class="avatar-img rounded-circle">
               </div>
               <div class="user-text">
                  <h6 style="color: black;">{{ user.first_name }} {{ user.last_name }}</h6>
                  
                  {% if user.user_type == '1' %}
                     <p class="text-muted mb-0">Admin</p>
                  {% elif user.user_type == '2' %}
                     <p class="text-muted mb-0">Doctor</p>
                  {% else %}
                     <p class="text-muted mb-0">Patient</p>
                  {% endif %}
               </div>
            </div>
            <a class="dropdown-item" href="{% url 'profile' %}">My Profile</a>
            <a class="dropdown-item" href="{% url 'change_password' %}">Setting</a>
            <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
         </div>
      </li>
   </ul>
</div>

{% endif %}
